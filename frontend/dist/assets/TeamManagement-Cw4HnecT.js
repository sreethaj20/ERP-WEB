import{F as u,E as e,Y as Z}from"./vendor-AZjfysqh.js";import{f as G}from"./date-DAJMpUuB.js";import{u as ee}from"./index-CcBKZM2H.js";import"./router-CieCW4vl.js";function ne(){const{users:c,addUser:O,updateUser:C,removeUser:F}=ee(),T="admin_team_members",[L,A]=u.useState("member"),[M,E]=u.useState(()=>{try{const a=localStorage.getItem(T);return a?JSON.parse(a):[]}catch{return[]}}),y=(a="",t="")=>{const s=String(a).toLowerCase(),d=String(t).toLowerCase();return s==="hr"||s.includes("hrbp")||s.includes("hrbp lead")||s.includes("it recruiter")||d==="hr"},v=(a="")=>{const t=String(a).toLowerCase();return t==="developer"||t.includes("developer")||t.includes("java developer")},b=u.useMemo(()=>{const a=t=>{const s=(t.role||"").toLowerCase(),d=(t.designation||"").toLowerCase(),o=(t.department||"").toLowerCase();return y(d,o)?0:v(d)?1:d==="team lead"?2:s==="manager"?3:4};return c.filter(t=>{const s=(t.role||"").toLowerCase(),d=(t.designation||"").toLowerCase(),o=(t.department||"").toLowerCase();return s==="manager"||d==="team lead"||v(d)||y(d,o)}).slice().sort((t,s)=>{const d=a(t),o=a(s);if(d!==o)return d-o;const n=`${t.firstName||""} ${t.lastName||""}`.trim().toLowerCase(),m=`${s.firstName||""} ${s.lastName||""}`.trim().toLowerCase();return n.localeCompare(m)})},[c]),R=u.useMemo(()=>c.filter(a=>{const t=(a.role||"").toLowerCase(),s=(a.designation||"").toLowerCase(),d=(a.department||"").toLowerCase();return t==="employee"&&!v(s)&&!y(s,d)}),[c]),[r,p]=u.useState({name:"",email:"",department:"",designation:"",teamLead:"",doj:"",status:"Active",shift:"MORNING",empId:"",bloodGroup:"",dateOfBirth:"",coreEducation:""}),[i,g]=u.useState({name:"",email:"",department:"",designation:"Team Lead",doj:"",status:"Active",shift:"MORNING",empId:"",bloodGroup:"",dateOfBirth:"",coreEducation:""}),[l,x]=u.useState({name:"",email:"",department:"HR",designation:"",doj:"",status:"Active",shift:"MORNING",empId:"",bloodGroup:"",dateOfBirth:"",coreEducation:""}),[w,J]=u.useState(null),[I,S]=u.useState(null),[H,q]=u.useState([]),[z,f]=u.useState(!1),[k,Y]=u.useState("");u.useEffect(()=>{!Array.isArray(c)||c.length===0||c.forEach((a,t)=>{const s=(a.role||"").toLowerCase(),d=(a.designation||"").toLowerCase();if(s==="employee"&&(v(d)||y(d,a.department))&&(a.teamLeadEmail||"")!==""&&C(t,{...a,teamLeadEmail:""}),s==="employee"&&a.teamLeadEmail&&!(a.teamLeadEmail||"").includes("@")){const o=(a.teamLeadEmail||"").trim().toLowerCase(),n=c.find(m=>`${(m.firstName||"").trim()} ${(m.lastName||"").trim()}`.trim().toLowerCase()===o);n&&(n.email||"").includes("@")&&C(t,{...a,teamLeadEmail:n.email})}})},[c,C]),u.useEffect(()=>{function a(t){return{id:t.id||(typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():String(Date.now()+Math.random())),name:t.name||t.empName||"",email:t.email||"",department:t.department||"",designation:t.designation||t.role||"",teamLead:t.teamLead||"",doj:t.doj||"",status:t.status||"Active",shift:t.shift||"MORNING",empId:t.empId||t.empID||"",password:t.password||"Password@001"}}if(E(t=>t.map(a)),M.length===0)try{const t=localStorage.getItem("admin_teams");if(t){const s=JSON.parse(t);if(Array.isArray(s)&&s.length>0){const d=s.map(o=>a(o));d.length>0&&E(d)}}}catch{}},[]),u.useEffect(()=>{localStorage.setItem(T,JSON.stringify(M))},[M]);function N(){p({name:"",email:"",department:"",designation:"",teamLead:"",doj:"",status:"Active",shift:"MORNING",empId:"",bloodGroup:"",dateOfBirth:"",coreEducation:""}),J(null),S(null)}function D(){g({name:"",email:"",department:"",designation:"Team Lead",doj:"",status:"Active",shift:"MORNING",empId:"",bloodGroup:"",dateOfBirth:"",coreEducation:""})}function B(){x({name:"",email:"",department:"HR",designation:"",doj:"",status:"Active",shift:"MORNING",empId:"",bloodGroup:"",dateOfBirth:"",coreEducation:""})}function V(a){a.preventDefault();const t=r,s=(t.designation||"").toLowerCase(),d=!(s==="developer"||s==="hr");if(!t.name||!t.email||!t.department||!t.designation||d&&!t.teamLead||!t.doj||!t.status){alert("Please fill all fields for Team Member.");return}if(I){const h=c.findIndex(j=>(j.email||"").toLowerCase()===I.toLowerCase());if(h>=0){const[j,...K]=(t.name||"").trim().split(" "),W=K.join(" "),$=(t.designation||"").toLowerCase(),X=!($==="developer"||$==="hr");C(h,{...c[h],firstName:j||t.name,lastName:W,email:t.email,role:"employee",status:t.status,department:t.department,designation:t.designation,teamLeadEmail:X?t.teamLead:"",dateOfJoining:t.doj,shift:t.shift,empId:t.empId||c[h].empId,bloodGroup:t.bloodGroup||c[h].bloodGroup,dateOfBirth:t.dateOfBirth||c[h].dateOfBirth,coreEducation:t.coreEducation||c[h].coreEducation}),alert("Updated employee")}S(null),N(),f(!1);return}if(w){E(h=>h.map(j=>j.id===w?{...j,...t}:j)),N();return}const[o,...n]=(t.name||"").trim().split(" "),m=n.join(" ");O({firstName:o||t.name,lastName:m,email:t.email,password:"Password@001",role:"employee",status:t.status,department:t.department,designation:t.designation,teamLeadEmail:d?t.teamLead:"",dateOfJoining:t.doj,shift:t.shift,empId:t.empId,bloodGroup:t.bloodGroup,dateOfBirth:t.dateOfBirth,coreEducation:t.coreEducation}),E(h=>[{id:crypto.randomUUID(),password:"Password@001",...t},...h]),N(),f(!1)}function _(a){a.preventDefault();const t=i;if(!t.name||!t.email||!t.department||!t.designation||!t.doj||!t.status){alert("Please fill all fields for Team Lead.");return}const[s,...d]=(t.name||"").trim().split(" "),o=d.join(" ");O({firstName:s||t.name,lastName:o,email:t.email,password:"Password@001",role:"manager",status:t.status,department:t.department,designation:t.designation||"Team Lead",teamLeadEmail:"",dateOfJoining:t.doj,shift:t.shift,empId:t.empId,bloodGroup:t.bloodGroup,dateOfBirth:t.dateOfBirth,coreEducation:t.coreEducation}),D(),f(!1)}function Q(a){a.preventDefault();const t=l;if(!t.name||!t.email||!t.department||!t.designation||!t.doj||!t.status){alert("Please fill all fields for HR.");return}const[s,...d]=(t.name||"").trim().split(" "),o=d.join(" ");O({firstName:s||t.name,lastName:o,email:t.email,password:"Password@001",role:"employee",status:t.status,department:t.department,designation:t.designation,teamLeadEmail:"",dateOfJoining:t.doj,shift:t.shift,empId:t.empId,bloodGroup:t.bloodGroup,dateOfBirth:t.dateOfBirth,coreEducation:t.coreEducation}),B(),f(!1)}function U(a){const t=c.find(d=>(d.email||"").toLowerCase()===(a||"").toLowerCase());if(!t)return;const s=`${t.firstName||""} ${t.lastName||""}`.trim();p({name:s||t.username||t.email,email:t.email||"",department:t.department||"",designation:t.designation||t.role||"",teamLead:t.teamLeadEmail||"",doj:(t.dateOfJoining||"").slice(0,10),status:t.status||"Active",shift:t.shift||"MORNING"}),S(t.email),J(null),A("member"),f(!0)}function P(a){const t=c.findIndex(s=>(s.email||"").toLowerCase()===(a||"").toLowerCase());t>=0&&window.confirm("Remove this user?")&&F(t)}return e.jsxs("div",{className:"dashboard fade-in",children:[e.jsx("div",{className:"dashboard-header",children:e.jsx("div",{children:e.jsx("h2",{children:"ðŸ‘¥ Admin Team Management"})})}),e.jsxs("div",{style:{display:"flex",gap:12,marginBottom:12},children:[e.jsx("button",{className:"primary-btn",type:"button",onClick:()=>{A("member"),N(),f(!0)},children:"Add Team Member"}),e.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>{A("lead"),D(),f(!0)},children:"Add Team Lead"}),e.jsx("button",{className:"secondary-btn",type:"button",onClick:()=>{A("hr"),B(),f(!0)},children:"Add HR"})]}),z&&e.jsx("div",{className:"modal-overlay",onClick:a=>{a.target===a.currentTarget&&f(!1)},children:e.jsxs("div",{className:"modal",style:{maxWidth:900,width:"90%"},children:[e.jsx("h3",{style:{marginTop:0},children:L==="member"?I||w?"Edit Team Member":"Add Team Member":L==="lead"?"Add Team Lead":"Add HR"}),L==="member"?e.jsxs("form",{onSubmit:V,children:[e.jsxs("div",{className:"grid-3-cols",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:12},children:[e.jsx("input",{type:"text",placeholder:"Name",value:r.name,onChange:a=>p({...r,name:a.target.value})}),e.jsx("input",{type:"email",placeholder:"Email",value:r.email,onChange:a=>p({...r,email:a.target.value})}),e.jsx("input",{type:"text",placeholder:"EMP ID",value:r.empId,onChange:a=>p({...r,empId:a.target.value})}),e.jsx("input",{type:"text",placeholder:"Department",value:r.department,onChange:a=>p({...r,department:a.target.value})}),e.jsx("input",{type:"text",placeholder:"Designation",value:r.designation,onChange:a=>p({...r,designation:a.target.value})}),(r.designation||"").toLowerCase()!=="developer"&&(r.designation||"").toLowerCase()!=="hr"&&b.length>0?e.jsxs("select",{value:r.teamLead,onChange:a=>p({...r,teamLead:a.target.value}),children:[e.jsx("option",{value:"",children:"Select Reporting To"}),b.filter(a=>{const t=String(a.designation||"").toLowerCase().replace(/\s+/g," ").trim(),s=t.replace(/\s+/g,"");return t==="team lead"||s.includes("hrbplead")}).map(a=>e.jsxs("option",{value:(a.email||"").toLowerCase(),children:[(a.firstName||"")+" "+(a.lastName||"")," (",(a.email||"").toLowerCase(),")"]},a.email))]}):e.jsx("input",{type:"text",placeholder:"Reporting To (optional)",value:r.teamLead,onChange:a=>p({...r,teamLead:a.target.value})}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx("input",{type:"date","aria-label":"Date of Joining (DOJ)",placeholder:"dd-mm-yyyy",value:r.doj,onChange:a=>p({...r,doj:a.target.value})}),e.jsx("span",{style:{color:"#6b7280",fontSize:12},children:"(DOJ)"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx("input",{type:"date","aria-label":"Date of Birth (DOB)",placeholder:"dd-mm-yyyy",value:r.dateOfBirth,onChange:a=>p({...r,dateOfBirth:a.target.value})}),e.jsx("span",{style:{color:"#6b7280",fontSize:12},children:"(DOB)"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{className:"form-control",value:r.status,onChange:a=>p({...r,status:a.target.value}),required:!0,children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Shift"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Shift"}),e.jsxs("select",{className:"form-control",value:r.shift,onChange:a=>{const t=a.target.value;p({...r,shift:t})},required:!0,children:[e.jsx("option",{value:"MORNING",children:"Morning (9:00 AM - 6:00 PM)"}),e.jsx("option",{value:"EVENING",children:"Evening (6:30 PM - 3:30 AM)"}),e.jsx("option",{value:"ANYTIME",children:"Anytime (Flexible Hours)"})]})]})]}),e.jsx("input",{type:"text",placeholder:"Blood Group (e.g., O+ / A-)",value:r.bloodGroup,onChange:a=>p({...r,bloodGroup:a.target.value})}),e.jsx("input",{type:"text",placeholder:"Core Education (e.g., B.Tech)",value:r.coreEducation,onChange:a=>p({...r,coreEducation:a.target.value})})]}),e.jsxs("div",{className:"form-actions",style:{display:"flex",gap:8,marginTop:12},children:[e.jsx("button",{type:"submit",className:"primary-btn",children:I||w?"Update":"Add"}),e.jsx("button",{type:"button",className:"secondary-btn",onClick:N,children:"Clear"}),e.jsx("button",{type:"button",className:"danger-btn",onClick:()=>f(!1),children:"Close"})]})]}):L==="lead"?e.jsxs("form",{onSubmit:_,children:[e.jsxs("div",{className:"grid-3-cols",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:12},children:[e.jsx("input",{type:"text",placeholder:"Name",value:i.name,onChange:a=>g({...i,name:a.target.value})}),e.jsx("input",{type:"email",placeholder:"Email",value:i.email,onChange:a=>g({...i,email:a.target.value})}),e.jsx("input",{type:"text",placeholder:"EMP ID",value:i.empId,onChange:a=>g({...i,empId:a.target.value})}),e.jsx("input",{type:"text",placeholder:"Department",value:i.department,onChange:a=>g({...i,department:a.target.value})}),e.jsx("input",{type:"text",placeholder:"Designation",value:i.designation,onChange:a=>g({...i,designation:a.target.value})}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx("input",{type:"date","aria-label":"Date of Joining (DOJ)",placeholder:"dd-mm-yyyy",value:i.doj,onChange:a=>g({...i,doj:a.target.value})}),e.jsx("span",{style:{color:"#6b7280",fontSize:12},children:"(DOJ)"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx("input",{type:"date","aria-label":"Date of Birth (DOB)",placeholder:"dd-mm-yyyy",value:i.dateOfBirth,onChange:a=>g({...i,dateOfBirth:a.target.value})}),e.jsx("span",{style:{color:"#6b7280",fontSize:12},children:"(DOB)"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{className:"form-control",value:i.status,onChange:a=>g({...i,status:a.target.value}),required:!0,children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Shift"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Shift"}),e.jsxs("select",{className:"form-control",value:i.shift,onChange:a=>{const t=a.target.value;g({...i,shift:t})},required:!0,children:[e.jsx("option",{value:"MORNING",children:"Morning (9:00 AM - 6:00 PM)"}),e.jsx("option",{value:"EVENING",children:"Evening (6:30 PM - 3:30 AM)"}),e.jsx("option",{value:"ANYTIME",children:"Anytime (Flexible Hours)"})]})]})]}),e.jsx("input",{type:"text",placeholder:"Blood Group (e.g., O+ / A-)",value:i.bloodGroup,onChange:a=>g({...i,bloodGroup:a.target.value})}),e.jsx("input",{type:"text",placeholder:"Core Education (e.g., B.Tech)",value:i.coreEducation,onChange:a=>g({...i,coreEducation:a.target.value})})]}),e.jsxs("div",{className:"form-actions",style:{display:"flex",gap:8,marginTop:12},children:[e.jsx("button",{type:"submit",className:"primary-btn",children:"Add Lead"}),e.jsx("button",{type:"button",className:"secondary-btn",onClick:D,children:"Clear"}),e.jsx("button",{type:"button",className:"danger-btn",onClick:()=>f(!1),children:"Close"})]})]}):e.jsxs("form",{onSubmit:Q,children:[e.jsxs("div",{className:"grid-3-cols",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:12},children:[e.jsx("input",{type:"text",placeholder:"Name",value:l.name,onChange:a=>x({...l,name:a.target.value})}),e.jsx("input",{type:"email",placeholder:"Email",value:l.email,onChange:a=>x({...l,email:a.target.value})}),e.jsx("input",{type:"text",placeholder:"EMP ID",value:l.empId,onChange:a=>x({...l,empId:a.target.value})}),e.jsx("input",{type:"text",placeholder:"Department",value:l.department,onChange:a=>x({...l,department:a.target.value})}),e.jsx("input",{type:"text",placeholder:"Designation",value:l.designation,onChange:a=>x({...l,designation:a.target.value})}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx("input",{type:"date","aria-label":"Date of Joining (DOJ)",placeholder:"dd-mm-yyyy",value:l.doj,onChange:a=>x({...l,doj:a.target.value})}),e.jsx("span",{style:{color:"#6b7280",fontSize:12},children:"(DOJ)"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx("input",{type:"date","aria-label":"Date of Birth (DOB)",placeholder:"dd-mm-yyyy",value:l.dateOfBirth,onChange:a=>x({...l,dateOfBirth:a.target.value})}),e.jsx("span",{style:{color:"#6b7280",fontSize:12},children:"(DOB)"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{className:"form-control",value:l.status,onChange:a=>x({...l,status:a.target.value}),required:!0,children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Shift"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Shift"}),e.jsxs("select",{className:"form-control",value:l.shift,onChange:a=>{const t=a.target.value;x({...l,shift:t})},required:!0,children:[e.jsx("option",{value:"MORNING",children:"Morning (9:00 AM - 6:00 PM)"}),e.jsx("option",{value:"EVENING",children:"Evening (6:30 PM - 3:30 AM)"}),e.jsx("option",{value:"ANYTIME",children:"Anytime (Flexible Hours)"})]})]})]}),e.jsx("input",{type:"text",placeholder:"Blood Group (e.g., O+ / A-)",value:l.bloodGroup,onChange:a=>x({...l,bloodGroup:a.target.value})}),e.jsx("input",{type:"text",placeholder:"Core Education (e.g., B.Tech)",value:l.coreEducation,onChange:a=>x({...l,coreEducation:a.target.value})})]}),e.jsxs("div",{className:"form-actions",style:{display:"flex",gap:8,marginTop:12},children:[e.jsx("button",{type:"submit",className:"primary-btn",children:"Add HR"}),e.jsx("button",{type:"button",className:"secondary-btn",onClick:B,children:"Clear"}),e.jsx("button",{type:"button",className:"danger-btn",onClick:()=>f(!1),children:"Close"})]})]})]})}),e.jsxs("div",{className:"dashboard-card",children:[e.jsxs("div",{className:"table-header-bar",style:{display:"flex",gap:12,alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("h3",{children:["Leads & Developers (",b.length,")"]}),e.jsx("input",{className:"tm-search",type:"text",placeholder:"Search name, email, dept, designation...",value:k,onChange:a=>Y(a.target.value)})]}),e.jsxs("table",{className:"user-table",style:{width:"100%",borderCollapse:"collapse",marginTop:12},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"#f5f5f5",borderBottom:"2px solid #ddd"},children:[e.jsx("th",{style:{width:40,padding:12,textAlign:"center",border:"1px solid #ddd"}}),e.jsx("th",{style:{padding:12,textAlign:"left",border:"1px solid #ddd"},children:"Lead Name"}),e.jsx("th",{style:{padding:12,textAlign:"left",border:"1px solid #ddd"},children:"Email"}),e.jsx("th",{style:{padding:12,textAlign:"left",border:"1px solid #ddd"},children:"Department"}),e.jsx("th",{style:{padding:12,textAlign:"left",border:"1px solid #ddd"},children:"Designation"}),e.jsx("th",{style:{padding:12,textAlign:"center",border:"1px solid #ddd"},children:"DOJ"}),e.jsx("th",{style:{padding:12,textAlign:"center",border:"1px solid #ddd"},children:"Status"}),e.jsx("th",{style:{width:120,padding:12,textAlign:"center",border:"1px solid #ddd"},children:"Members"})]})}),e.jsx("tbody",{children:b.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"empty-row",children:"No team leads yet. Add one above."})}):b.filter(a=>{const t=(k||"").trim().toLowerCase();return t?`${a.firstName||""} ${a.lastName||""}`.toLowerCase().includes(t)||(a.email||"").toLowerCase().includes(t)||(a.department||"").toLowerCase().includes(t)||(a.designation||"").toLowerCase().includes(t):!0}).map(a=>{const t=(a.designation||"").toLowerCase()==="hr",s=t?[]:R.filter(n=>(n.teamLeadEmail||"").toLowerCase()===(a.email||"").toLowerCase()).filter(n=>{const m=(n.designation||"").toLowerCase(),h=(n.department||"").toLowerCase();return!v(m)&&!y(m,h)}),d=(a.email||"").toLowerCase(),o=H.includes(d);return e.jsxs(Z.Fragment,{children:[e.jsxs("tr",{className:"lead-row",style:{borderBottom:"1px solid #eee"},children:[e.jsx("td",{className:"expand-cell",style:{textAlign:"center",border:"1px solid #ddd"},children:t?e.jsx("span",{style:{color:"#9ca3af"},children:"â€”"}):e.jsx("button",{type:"button",className:"expand-btn","aria-label":o?"Collapse":"Expand",onClick:()=>q(n=>n.includes(d)?n.filter(m=>m!==d):[...n,d]),children:o?"â–¾":"â–¸"})}),e.jsx("td",{style:{padding:12,border:"1px solid #ddd"},children:(a.firstName||"")+" "+(a.lastName||"")}),e.jsx("td",{style:{padding:12,border:"1px solid #ddd"},children:a.email}),e.jsx("td",{style:{padding:12,border:"1px solid #ddd"},children:a.department}),e.jsx("td",{style:{padding:12,border:"1px solid #ddd"},children:a.designation}),e.jsx("td",{style:{padding:12,textAlign:"center",border:"1px solid #ddd"},children:G(a.dateOfJoining||a.doj)}),e.jsx("td",{style:{padding:12,textAlign:"center",border:"1px solid #ddd"},children:(()=>{const n=a.status||"Active",m=String(n).toLowerCase()==="active";return e.jsx("span",{className:`status-badge ${m?"active":"inactive"}`,children:n})})()}),e.jsx("td",{style:{padding:12,textAlign:"center",border:"1px solid #ddd"},children:e.jsx("span",{className:"badge-light",children:t?"â€”":s.length})})]},a.email),!t&&o&&e.jsx("tr",{className:"expand-row",children:e.jsx("td",{colSpan:8,style:{padding:0,background:"#fafafa",border:"1px solid #ddd"},children:e.jsxs("div",{className:"nested-table-wrapper",style:{padding:12},children:[e.jsxs("div",{className:"nested-header",style:{marginBottom:8},children:["Members of ",(a.firstName||"")+" "+(a.lastName||"")]}),e.jsxs("table",{className:"user-table nested-table",style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"#f9fafb",borderBottom:"2px solid #e5e7eb"},children:[e.jsx("th",{style:{padding:8,textAlign:"left",border:"1px solid #e5e7eb"},children:"Name"}),e.jsx("th",{style:{padding:8,textAlign:"left",border:"1px solid #e5e7eb"},children:"Email"}),e.jsx("th",{style:{padding:8,textAlign:"left",border:"1px solid #e5e7eb"},children:"Department"}),e.jsx("th",{style:{padding:8,textAlign:"left",border:"1px solid #e5e7eb"},children:"Designation"}),e.jsx("th",{style:{padding:8,textAlign:"center",border:"1px solid #e5e7eb"},children:"DOJ"}),e.jsx("th",{style:{padding:8,textAlign:"center",border:"1px solid #e5e7eb"},children:"Status"}),e.jsx("th",{style:{padding:8,textAlign:"center",border:"1px solid #e5e7eb"},children:"Actions"})]})}),e.jsx("tbody",{children:s.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"empty-row",children:"No members under this lead."})}):s.map(n=>e.jsxs("tr",{children:[e.jsx("td",{style:{padding:8,border:"1px solid #e5e7eb"},children:`${n.firstName||""} ${n.lastName||""}`.trim()||n.username||n.email}),e.jsx("td",{style:{padding:8,border:"1px solid #e5e7eb"},children:n.email}),e.jsx("td",{style:{padding:8,border:"1px solid #e5e7eb"},children:n.department}),e.jsx("td",{style:{padding:8,border:"1px solid #e5e7eb"},children:n.designation||n.role}),e.jsx("td",{style:{padding:8,textAlign:"center",border:"1px solid #e5e7eb"},children:G(n.dateOfJoining)}),e.jsx("td",{style:{padding:8,textAlign:"center",border:"1px solid #e5e7eb"},children:(()=>{const m=n.status||"Active",h=String(m).toLowerCase()==="active";return e.jsx("span",{className:`status-badge ${h?"active":"inactive"}`,children:m})})()}),e.jsx("td",{style:{padding:8,textAlign:"center",border:"1px solid #e5e7eb"},children:e.jsxs("div",{className:"table-actions",children:[e.jsx("button",{className:"secondary-btn",onClick:()=>U(n.email),children:"Edit"}),e.jsx("button",{className:"danger-btn",onClick:()=>P(n.email),children:"Remove"})]})})]},n.email))})]})]})})})]},d)})})]})]}),(()=>{const a=new Set(b.map(s=>(s.email||"").trim().toLowerCase())),t=R.filter(s=>!s.teamLeadEmail||!a.has((s.teamLeadEmail||"").trim().toLowerCase()));return t.length===0?null:e.jsxs("div",{className:"dashboard-card",style:{marginTop:16},children:[e.jsx("div",{className:"table-header-bar",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:e.jsxs("h3",{children:["Unassigned Members (",t.length,")"]})}),e.jsxs("table",{className:"user-table",style:{width:"100%",borderCollapse:"collapse",marginTop:12},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"#f5f5f5",borderBottom:"2px solid #ddd"},children:[e.jsx("th",{style:{padding:12,textAlign:"left",border:"1px solid #ddd"},children:"Name"}),e.jsx("th",{style:{padding:12,textAlign:"left",border:"1px solid #ddd"},children:"Email"}),e.jsx("th",{style:{padding:12,textAlign:"left",border:"1px solid #ddd"},children:"Department"}),e.jsx("th",{style:{padding:12,textAlign:"left",border:"1px solid #ddd"},children:"Designation"}),e.jsx("th",{style:{padding:12,textAlign:"left",border:"1px solid #ddd"},children:"Team Lead Email"}),e.jsx("th",{style:{padding:12,textAlign:"center",border:"1px solid #ddd"},children:"DOJ"}),e.jsx("th",{style:{padding:12,textAlign:"center",border:"1px solid #ddd"},children:"Status"}),e.jsx("th",{style:{padding:12,textAlign:"center",border:"1px solid #ddd"},children:"Actions"})]})}),e.jsx("tbody",{children:t.map(s=>e.jsxs("tr",{children:[e.jsx("td",{style:{padding:12,border:"1px solid #ddd"},children:`${s.firstName||""} ${s.lastName||""}`.trim()||s.username||s.email}),e.jsx("td",{style:{padding:12,border:"1px solid #ddd"},children:s.email}),e.jsx("td",{style:{padding:12,border:"1px solid #ddd"},children:s.department}),e.jsx("td",{style:{padding:12,border:"1px solid #ddd"},children:s.designation||s.role}),e.jsx("td",{style:{padding:12,border:"1px solid #ddd"},children:s.teamLeadEmail||e.jsx("em",{children:"None"})}),e.jsx("td",{style:{padding:12,textAlign:"center",border:"1px solid #ddd"},children:G(s.dateOfJoining)}),e.jsx("td",{style:{padding:12,textAlign:"center",border:"1px solid #ddd"},children:e.jsx("span",{className:`status-badge ${s.status==="Active"?"active":"inactive"}`,children:s.status})}),e.jsx("td",{style:{padding:12,textAlign:"center",border:"1px solid #ddd"},children:e.jsxs("div",{className:"table-actions",children:[e.jsx("button",{className:"secondary-btn",onClick:()=>U(s.email),children:"Edit"}),e.jsx("button",{className:"danger-btn",onClick:()=>P(s.email),children:"Remove"})]})})]},s.email))})]})]})})()]})}export{ne as default};
